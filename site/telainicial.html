<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STUDIO DA BELEZA</title>
    <link rel="stylesheet" href="./css/telainicial.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>

<body>
    <header>
        <h1 id="titulo-principal">STUDIO DA BELEZA</h1>
        <nav>
            <ul>
                <li><a href="#salao" class="menu-item">Salão</a></li>
                <li><a href="#servicos" class="menu-item">Serviços</a></li>
                <li><a href="#produtos" class="menu-item">Produtos</a></li>
                <li><a href="#feedbacks" class="menu-item">Feedbacks</a></li>
                <li><a href="#contato" class="menu-item">Contato</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="salao">
            <h2>Salão</h2>
            <p>O Studio da Beleza, localizado em Sombrio, SC, é um salão de beleza que se destaca por oferecer um atendimento de excelência...</p>
        </section>

        <section id="servicos">
            <h2>Serviços</h2>
            <div class="servicos-container">
                <div class="servico-item">
                    <img src="./fotos/cabelo.png.png" alt="Serviços de Beleza" class="imagem-servicos">
                    <ul class="lista-servicos">
                        <li>Corte Masculino e Feminino</li>
                        <li>Coloração</li>
                        <li>Escova Definitiva</li>
                        <li>Escova Progressiva</li>
                        <li>Mechas 3D</li>
                        <li>Mechas</li>
                    </ul>
                </div>
                <div class="servico-item">
                    <img src="./fotos/tratamento.png.png" alt="Mais Serviços de Beleza" class="imagem-servicos">
                    <ul class="lista-servicos">
                        <li>Botox</li>
                        <li>Lavação</li>
                        <li>Hidratação</li>
                        <li>Reconstrução</li>
                        <li>Queratina</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="produtos">
            <h2>Produtos</h2>
            <p>Descubra nossos produtos de alta qualidade para o cuidado dos seus cabelos.</p>
            <div id="lista-produtos">
                <ul id="produtos-list">
                    <li>
                        <img src="https://m.media-amazon.com/images/I/51YN9E9CZZL.__AC_SX300_SY300_QL70_ML2_.jpg" alt="Shampoo Hidratante" class="produto-imagem">
                        <h3>Shampoo Hidratante</h3>
                        <p><strong>Marca:</strong> L'Oréal</p>
                        <p><strong>Valor:</strong> R$ 45,90</p>
                        <p>Shampoo especialmente formulado para cabelos secos e danificados.</p>
                    </li>
                    <li>
                        <img src="https://m.media-amazon.com/images/I/41Q4HnyRomL.__AC_SY445_SX342_QL70_ML2_.jpg" alt="Máscara de Reconstrução" class="produto-imagem">
                        <h3>Máscara de Reconstrução</h3>
                        <p><strong>Marca:</strong> Kerastase</p>
                        <p><strong>Valor:</strong> R$ 125,50</p>
                        <p>Máscara que fortalece a fibra capilar e promove brilho intenso.</p>
                    </li>
                </ul>
            </div>
        </section>

        <section id="feedbacks">
            <h2>Feedbacks</h2>
            <p>Veja o que nossos clientes estão dizendo.</p>
            <div id="lista-feedbacks">
                <div class="feedback-item">
                    <h4>Ana Clara</h4>
                    <p>Adorei o atendimento e a qualidade dos produtos! Recomendo muito!</p>
                    <p><strong>Data:</strong> 05/01/2025</p>
                </div>
                <div class="feedback-item">
                    <h4>Lucas Ferreira</h4>
                    <p>Ótimo ambiente, profissionais atenciosos e muito competentes.</p>
                    <p><strong>Data:</strong> 04/01/2025</p>
                </div>
            </div>
        </section>

        <section id="contato">
            <div class="contato-container">
                <div class="formulario-e-mapa">
                    <div class="coluna-esquerda">
                        <h2>Contato</h2>
                        <p>Agende seu horário de forma rápida e fácil!</p>
                        <form action="http://localhost:3000/enviar-email" method="post">
                            <label for="nome">Nome:</label>
                            <input type="text" id="nome" name="nome" required>
                        
                            <label for="telefone">Telefone:</label>
                            <input type="tel" id="telefone" name="telefone" required>
                        
                            <label for="mensagem">Mensagem:</label>
                            <textarea id="mensagem" name="mensagem" rows="4" required></textarea>
                        
                            <button type="submit">Enviar</button>
                        </form>
                    </div>

                    <section id="localizacao-contato">
                        <div class="row">
                            <div class="coluna-esquerda">
                                <div class="coluna-direita">
                                    <h2>Localização</h2>
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d591.086865799834!2d-49.63966606535586!3d-29.11016421128437!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95223c39d3daa21f%3A0x7f0bd4c99ff7e129!2sStudio%20Da%20Beleza!5e0!3m2!1spt-BR!2sbr!4v1738193266972!5m2!1spt-BR!2sbr" 
                                        width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                                </div>
                            </div>
                        </div>

            <div id="informacoes-contato">
                <p><strong>Email:</strong> studiodabeleza@gmail.com</p>
                <p><strong>Telefone:</strong> (48) 3533-3155</p>
            </div>
        </section>

        <section id="login-admin">
            <a href="/login" class="login-admin-button"><i class="fas fa-user"></i> Logar</a>
        </section>
    </main>

    <footer>
        <p><strong>Endereço: Av. Getúlio Vargas, 816 - Nova Brasília, Sombrio - SC, 88960-000</strong></p>
        <p>© 2024 STUDIO DA BELEZA. Todos os direitos reservados.</p>
    </footer>

    <a href="https://wa.me/5548998561909" class="whatsapp-button" target="_blank" aria-label="Agendar pelo WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <script src="./js/telainicial.js"></script>
    <script>
        // Função para carregar os produtos
        async function loadProducts() {
            try {
                const response = await fetch('/produtos');
                if (!response.ok) {
                    throw new Error('Falha ao carregar produtos');
                }
                const produtos = await response.json();

                const listaProdutos = document.getElementById('produtos-list');
                listaProdutos.innerHTML = ''; // Limpar conteúdo existente

                produtos.forEach(produto => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <h3>${produto.nome}</h3>
                        <p><strong>Marca:</strong> ${produto.marca}</p>
                        <p><strong>Valor:</strong> R$ ${produto.valor}</p>
                        <p>${produto.descricao}</p>
                    `;

                    // Carregar imagem do localStorage, se disponível
                    const imagemProduto = localStorage.getItem("fotoProduto");
                    if (imagemProduto) {
                        li.innerHTML += `<img src="${imagemProduto}" alt="Foto do produto" class="produto-imagem">`;
                    }
                    listaProdutos.appendChild(li);
                });
            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
            }
        }

        // Função para carregar os feedbacks
        async function loadFeedbacks() {
            try {
                const response = await fetch('/feedbacks');
                if (!response.ok) {
                    throw new Error('Falha ao carregar feedbacks');
                }
                const feedbacks = await response.json();

                const listaFeedbacks = document.getElementById('lista-feedbacks');
                listaFeedbacks.innerHTML = ''; // Limpar conteúdo existente

                feedbacks.forEach(feedback => {
                    const div = document.createElement('div');
                    div.classList.add('feedback-item');
                    div.innerHTML = `
                        <h4>${feedback.nome}</h4>
                        <p>${feedback.mensagem}</p>
                        <p><strong>Data:</strong> ${feedback.data}</p>
                    `;
                    listaFeedbacks.appendChild(div);
                });
            } catch (error) {
                console.error('Erro ao carregar feedbacks:', error);
            }
        }

        // Carregar produtos e feedbacks na inicialização
        document.addEventListener('DOMContentLoaded', () => {
            loadProducts();
            loadFeedbacks();
        });
    </script>
</body>

</html>
